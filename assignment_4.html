<html>
  <head>
    <script>
      function createToDo(){
        var todo = document.createElement("div");
        var span = document.createElement("span");
        var replaceButton = document.createElement("button");
        var removeButton = document.createElement("button");

        var input = document.getElementById("input").value;
        if(input==""){
          alert("輸入不能為空白");
          return;
        }
        span.innerHTML = input;
        todo.appendChild(span);
        document.getElementById("input").value="";

        replaceButton.onclick = function(){
          var input = document.getElementById("input").value;
          if(input== ""){
            alert("輸入取代的不能為空白");
            return;
          }
          this.parentNode.firstChild.innerHTML=input;
          document.getElementById("input").value="";
        }


        removeButton.onclick = function(){
          var answer = confirm("確定是否完成了嗎？");
          if (answer==true){
            this.parentNode.style.color="red";
            this.parentNode.removeChild(replaceButton);
            this.parentNode.removeChild(removeButton);
          }
        }




        document.getElementById("todolist").appendChild(todo);
        todo.appendChild(replaceButton);
        replaceButton.textContent="R";
        todo.appendChild(removeButton);
        removeButton.textContent="X";


      }
    </script>
  </head>

  <body>
    <input type="text" id="input">
    <button type="button" onclick="createToDo()";> + </button>
    <div id="todolist"></div>
  </body>
</html>